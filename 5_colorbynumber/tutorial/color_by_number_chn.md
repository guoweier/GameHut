# 用python做100个游戏：NO.5 数字填色（军烨版）

自学编程以来的第5个小项目：用pygame制作了数字填色（军烨版）。
数字填色 (Color By Number) 是一款益智类游戏。它将一副画转换成像素风，接着将每一个像素格的颜色用数字表示，并生成数字调色盘。玩家通过选取调色盘上的颜色，点击对应的数字格，即可实现填色。不费脑，非常适合放松心情。
最近我又重新关注军烨了，把这几年漏掉的消息都恶补了，然后又看了一遍他俩最初合作的电影。久久不能释怀。因此，我选取了电影lanyu的一些剧照，作为数字填色游戏的素材。算是用我微薄的力量来给广大人民群众造点福利吧哈哈哈。
言归正传。这毕竟是个严肃认真的代码分享文章。我们还是以解析代码为重（放心，文末会给源代码和使用手册。跟着我的步骤，大家可以自己发挥，造出更多更好玩的图来）。
那让我们现在开始。

## 第一步：设计
我给游戏设计了四个界面：
1. window1: 欢迎界面
2. window2: 浏览器界面
3. window3: 填色界面
4. window4: 完成界面
![Figure1. sketch of 4 windows]()<br>

## 第二步：图片选择与转换
### 选择图片
在图片选择上，我前前后后做了好多次尝试，试图寻找经过像素化处理后依然漂亮的图片。最终总结出以下几条规律：
1. 电影剧照 > 真人秀照片 > 新闻采访照片
2. 尽量选择颜色单一，光影柔和的图片。颜色过多，对比度太强，锐度太大，都会使得像素化之后的图片变得非常杂乱难看。
3. 尽量选择有代表性的图片，比如电影海报上的剧照。人物面部特写是首选。双人图片的效果远高于单人图片。

最终我选定了6张图片：5张剧照，1张真人秀截图。
在这里不做图片展示，原图网上都能搜得到。都是很经典的定格。

### 图片转换
想要对一张图片实现数字填色，需要生成以下几个元素：
1. label：在图片变成像素网格之后，每一个格子所代表的数字。
2. palette：每一个数字所对应的颜色（RGB）。
3. preview：像素风的图片预览

这里我使用了 Pillow 这个模块。Pillow 是一个功能强大的Python图像处理库，包含了丰富的图像处理功能。
我写了一个python程序，来实现图片转换。
具体内容如下：
1. 大框架
```
# image to grid, generate label, palette, preview
def quantize_image_to_grid()
    return label, palette, preview

# draw grid board (optional)
def draw_numbered_board():
    return img 

# save elements
def save_outputs():
    # save outputs
```
这个程序主要就分成三部分：
- image to grid: 从图片转换成像素网格
- draw grid: 绘制网格板（可画可不画）
- save outputs: 保存文件

2. image to grid: 从图片转换成像素网格

